<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>attr</title>
</head>

<body>
    <div class="clearfix box" id="aa">class="clearfix box"</div>
    <div myIn="1">myIn="1"</div>
    <div name="aa">name="aa"</div>
    <a myIn="2"> myIn="2"</a>
    <div class="box12">class="box...."</div>
    <div myIn="1">myIn="1"</div myIn="1">
    <div class="filters box">class="filters box"</div>
    <div myIn="2">myIn="2"</div>
    <div class="aaa">class="aaa"</div>
    <div myIn="aa">myIn="aa"</div>
</body>
<script>
    function $attr(property, value) {
        let elements = document.getElementsByTagName('*'),
            arr = [];
        elements = Array.from(elements);
        console.log(elements);
        elements.forEach(item => {
            // console.log(item.id);
            let itemVal = item.getAttribute(property);
            // console.log(itemVal);
            if (property === 'class') {
                new RegExp("\\b" + value + "\\b").test(itemVal) ? arr.push(item) : null;
                return;
            }
            if (itemVal === value) {
                arr.push(item);
            }
        });
        return arr;
    }

    console.log($attr('class', 'box'));
</script>

</html>